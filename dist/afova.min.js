"use strict";const z="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let B=(o=21)=>{let i="",c=crypto.getRandomValues(new Uint8Array(o));for(;o--;)i+=z[c[o]&63];return i};const R={message:"The input cannot be processed"},W={message:"The value does not match the required pattern of {{constraint}}",constraint:"pattern"},H={message:"The value is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},Z={message:"The value is too small. It must be at least {{constraint}}.",constraint:"min"},j={message:"The value is not in within the correct step interval of {{constraint}}",constraint:"step"},P={message:"The value is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},X={message:"The value is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},_={message:"The value must be of type {{constraint}}",constraint:"type",email:"The value must be an email address",url:"The value must be a URL in the format http://url.com",tel:"The value must be a phone number"},G={message:"Please provide a value",constraint:"required"},J={badInput:R,patternMismatch:W,rangeOverflow:H,rangeUnderflow:Z,stepMismatch:j,tooLong:P,tooShort:X,typeMismatch:_,valueMissing:G},K={message:"Die Eingabe kann nicht verarbeitet werden"},Q={message:"Der Eingabewert entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},Y={message:"Der Eingabewert ist zu gro\xDF. Der Wert darf nicht gr\xF6\xDFer sein als {{constraint}}.",constraint:"max"},ee={message:"Der Eingabewert ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},te={message:"Der Eingabewert ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},ne={message:"Der Eingabewert ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},ae={message:"Der Eingabewert ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},re={message:"Der Eingabewert muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert muss eine E-Mail Adresse sein",tel:"Der Eingabewert muss eine Telefonnummer sein",url:"Der Eingabewert muss eine URL im Format http://url.com sein"},oe={message:"Bitte machen Sie eine Eingabe",constraint:"required"},se={badInput:K,patternMismatch:Q,rangeOverflow:Y,rangeUnderflow:ee,stepMismatch:te,tooLong:ne,tooShort:ae,typeMismatch:re,valueMissing:oe},ie=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],T="form",A=".afova-message-collector",ce={selector:T,collectSelector:A,validateOnChange:!1,focusOnFirstError:!0},d={en:J,de:se},le=["submit","reset","button","fieldset"];function ue(){let o=navigator.language,i=d[o];if(i)return console.log(`afova is using locale=[${o}]`),i;const c=o.indexOf("-");return c&&(o=o.substring(0,c),o&&(i=d[o])),i?(console.log(`afova is using language=[${o}]`),i):(console.log("afova is using language=[en]"),d.en)}function me(o){let i=ue();function c(e){e.id||(e.id=`afova-${B()}`)}function g(e){const t=D(e)||e;return document.querySelector(`#${t.id}-afova-message-container`)}function w(e){const t=e.closest("form");if(t){const n=t.getAttribute("afova-message-collector-id");if(n)return document.querySelector(`#${n}`)}return null}function I(e){return e.children.length==0}function S(e){var t;let n=g(e);if(!n){const a=D(e)||e;n=document.createElement("ul"),(t=a.parentNode)==null||t.insertBefore(n,a),n.id=`${a.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)}return n}function M(e,t){if(e!="customError"){let n=i[e];if(n){let a=n.constraint,r=t.dataset[a||e]||i[e][t.type]||n.message;const s=t.getAttribute(a||"");if(s){const l=new RegExp("{{\\s*constraint\\s*}}","ig");r=r.replace(l,s)}return r}}return t.validationMessage}function x(e){var t,n;const a=f(e);if(a){let r=a.querySelector(".afova-label");if(r)return r.innerText;if(a.tagName!="LABEL"?r=a.querySelector("label"):r=a,r){let s="";for(const l of r.childNodes)l.nodeType==Node.TEXT_NODE&&(s&&(t=l.textContent)!=null&&t.trim()&&(s+=" "),(n=l.textContent)!=null&&n.trim()&&(s+=l.textContent.trim()));return s}}return""}function v(e,t){const n=w(e);if(n){let a;n.tagName=="UL"||n.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.setAttribute("afova-message-for",e.id),a.classList.add("afova-message");const r=x(e);if(r){const l=document.createElement("DIV");l.innerText=r,a.appendChild(l)}const s=document.createElement("DIV");s.innerText=t,a.appendChild(s),n.appendChild(a)}}function q(e){const t=S(e),n=e.validity;let a;t.tagName=="UL"||t.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.classList.add("afova-message"),a.setAttribute("afova-message-for",e.id),t.appendChild(a);for(const r of ie)if(n[r]){let s=M(r,e);s&&(a.innerHTML=s,v(e,s));break}a.innerHTML||(a.innerHTML=e.dataset.errorInvalid||i.badInput.message,v(e,e.dataset.errorInvalid||i.badInput.message))}function h(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=document.querySelectorAll(`[afova-message-for="${e.id}"]`);for(const r of t)r.remove();const n=g(e);n&&I(n)&&n.remove();let a=f(e);a&&document.querySelectorAll(`#${a.id} [aria-invalid].afova-control`).length==0&&a.classList.remove("afova-active")}function O(e,t){const n=f(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),q(e),t&&e.focus()}function b(e,t){return h(e),e.validity.valid||O(e,t),e.validity.valid}function m(e){const t=[];for(const n of e.elements)le.includes(n.type)||t.push(n);return t}function p(e,t){let n;for(const a of m(e)){const r=b(a);!n&&!r&&(n=a)}n&&(t?.preventDefault(),u.focusOnFirstError&&n.focus())}function N(e){for(let t of m(e))h(t)}function C(){const e=document.querySelectorAll(u.selector||T);for(const t of e){t.setAttribute("novalidate",""),c(t),t.addEventListener("submit",E),t.addEventListener("reset",L);for(const a of m(t))$(a);const n=t.querySelector(u.collectSelector||A);n&&(c(n),t.setAttribute("afova-message-collector-id",n.id),n.classList.add("afova-message-collector"))}}function E(e){e.preventDefault(),p(e.target,e)}function L(e){N(e.target)}function U(){const e=document.querySelectorAll(u.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",E),t.removeEventListener("reset",L);for(const n of m(t))k(n)}}function $(e){c(e),f(e),e.classList.add("afova-control"),u.validateOnChange&&e.addEventListener("change",y)}function y(e){b(e.target,!0)}function k(e){e.classList.remove("afova-control"),e.removeEventListener("change",y)}function f(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(c(t),t.classList.add("afova-context"),t.tagName=="LABEL"&&!t.htmlFor&&(t.htmlFor=e.id)),t}function D(e){const t=e.closest(".afova-group");return t&&c(t),t}function F(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)p(t)}function V(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)if(!t.checkValidity())return!0;return!1}let u=Object.assign({},ce,o);return C(),{clear:()=>U(),validate:()=>F(),isInvalid:()=>V()}}export{me as afova};
//# sourceMappingURL=afova.min.js.map
