"use strict";const P="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let W=(s=21)=>{let c="",l=crypto.getRandomValues(new Uint8Array(s));for(;s--;)c+=P[l[s]&63];return c};const H={message:"The input {{input}} cannot be processed"},Z={message:"The value {{input}} does not match the required pattern of {{constraint}}",constraint:"pattern"},j={message:"The value {{input}} is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},X={message:"The value {{input}} is too small. It must be at least {{constraint}}.",constraint:"min"},_={message:"The value {{input}} is not in within the correct step interval of {{constraint}}",constraint:"step"},G={message:"The value {{input}} is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},J={message:"The value {{input}} is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},K={message:"The value {{input}} must be of type {{constraint}}",constraint:"type",email:"The value {{input}} is not a valid email address. Please provide an email address.",url:"The value {{inptu}} is not a valid URL. Please provide a URL in the format http://url.com.",tel:"The value {{input}} is not a valid phone number. Please provide a phone number."},Q={message:"Please provide a value",constraint:"required"},Y={badInput:H,patternMismatch:Z,rangeOverflow:j,rangeUnderflow:X,stepMismatch:_,tooLong:G,tooShort:J,typeMismatch:K,valueMissing:Q},ee={message:"Die Eingabe {{input}} kann nicht verarbeitet werden"},te={message:"Der Eingabewert {{input}} entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},ne={message:"Der Eingabewert {{input}} ist zu gro\xDF. Der Wert darf nicht gr\xF6\xDFer sein als {{constraint}}.",constraint:"max"},ae={message:"Der Eingabewert {{input}} ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},re={message:"Der Eingabewert {{input}} ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},ie={message:"Der Eingabewert {{input}} ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},oe={message:"Der Eingabewert {{input}} ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},se={message:"Der Eingabewert {{input}} muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert {{input}} ist keine E-Mail Adresse. Bitte geben Sie eine E-Mail Adresse ein.",tel:"Der Eingabewert {{input}} ist keine Telefonnummer. Bitte geben Sie eine Telefonnummer ein.",url:"Der Eingabewert {{input}} ist kein URL. Bitte geben Sie eine URL im Format http://url.com ein."},ce={message:"Bitte machen Sie eine Eingabe",constraint:"required"},le={badInput:ee,patternMismatch:te,rangeOverflow:ne,rangeUnderflow:ae,stepMismatch:re,tooLong:ie,tooShort:oe,typeMismatch:se,valueMissing:ce},ue=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],I="form",M=".afova-form-message-container",me={selector:I,formMessageSelector:M,validateOnChange:!1,focusOnFirstError:!0},p={en:Y,de:le},fe=["submit","reset","button","fieldset"];function de(){let s=navigator.language,c=p[s];if(c)return console.log(`afova is using locale=[${s}]`),c;const l=s.indexOf("-");return l&&(s=s.substring(0,l),s&&(c=p[s])),c?(console.log(`afova is using language=[${s}]`),c):(console.log("afova is using language=[en]"),p.en)}function ge(s){let c=de();function l(e){e.id||(e.id=`afova-${W()}`)}function d(e){const t=w(e)||e;return document.querySelector(`#${t.id}-afova-message-container`)}function g(e){b(e)?e.style.display="none":e.style.display=""}function h(e){const t=e.closest("form");if(t){const n=t.getAttribute("afova-form-message-container-id");if(n)return document.querySelector(`#${n}`)}return null}function b(e){return e.children.length==0}function q(e){var t;let n=d(e);if(!n){const a=w(e)||e;n=document.createElement("ul"),(t=a.parentNode)==null||t.insertBefore(n,a),n.id=`${a.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)}return n}function x(e){if(e.type=="radio"&&e.name){const t=document.querySelectorAll(`input[name="${e.name}"][type="radio"]`),n=d(e);if(n){for(let a of t)if(n.querySelector(`[afova-message-for="${a.id}"]`))return!0}}return!1}function O(e,t){if(e!="customError"){let n=c[e];if(n){let a=n.constraint,r=t.dataset[a||e]||c[e][t.type]||n.message;const i=t.getAttribute(a||"");if(i){let z=new RegExp("{{\\s*constraint\\s*}}","ig");r=r.replace(z,i)}let u=new RegExp("{{\\s*input\\s*}}","ig");return r=r.replace(u,t.value),r}}return t.validationMessage}function k(e){var t,n;const a=f(e);if(a){let r=a.querySelector(".afova-label");if(!r&&a.tagName!="LABEL"&&(r=a.querySelector("label")),r||(r=a),r){let i="";for(const u of r.childNodes)u.nodeType==Node.TEXT_NODE&&(i&&(t=u.textContent)!=null&&t.trim()&&(i+=" "),(n=u.textContent)!=null&&n.trim()&&(i+=u.textContent.trim()));return i}}return""}function y(e,t){const n=h(e);if(n){let a;n.tagName=="UL"||n.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.setAttribute("afova-message-for",e.id),a.classList.add("afova-collected-message");const r=k(e);if(r){const u=document.createElement("DIV");u.innerText=r,u.classList.add("afova-message-label"),a.appendChild(u)}const i=document.createElement("DIV");i.innerText=t,i.classList.add("afova-message"),a.appendChild(i),n.appendChild(a),g(n)}}function V(e){const t=q(e),n=e.validity;let a;t.tagName=="UL"||t.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.classList.add("afova-message"),a.setAttribute("afova-message-for",e.id),t.appendChild(a);for(const r of ue)if(n[r]){let i=O(r,e);i&&(a.innerHTML=i,y(e,i));break}a.innerHTML||(a.innerHTML=e.dataset.errorInvalid||c.badInput.message,y(e,e.dataset.errorInvalid||c.badInput.message))}function E(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=document.querySelectorAll(`[afova-message-for="${e.id}"]`);for(const i of t)i.remove();const n=d(e);n&&b(n)&&n.remove();let a=f(e);a&&document.querySelectorAll(`#${a.id} [aria-invalid].afova-control`).length==0&&a.classList.remove("afova-active");const r=h(e);r&&g(r)}function N(e,t){const n=f(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),x(e)||(V(e),t&&e.focus())}function L(e,t){return E(e),e.validity.valid||N(e,t),e.validity.valid}function m(e){const t=[];for(const n of e.elements)fe.includes(n.type)||t.push(n);return t}function S(e){if(e)return e.checkValidity();{const t=document.querySelectorAll(o.selector||"form");for(const n of t)if(!n.checkValidity())return!1;return!0}}function v(e,t){let n,a=!0;for(const r of m(e))L(r)||(a=!1,n||(n=r));return n&&(t?.preventDefault(),o.focusOnFirstError&&n.focus()),a}function U(e){if(e)return v(e);{let t=!0;const n=document.querySelectorAll(o.selector||"form");for(const a of n)v(a)||(t=!1);return t}}function C(e){for(let t of m(e))E(t)}function R(){const e=document.querySelectorAll(o.selector||I);for(const t of e){l(t),t.addEventListener("submit",A),t.addEventListener("reset",D);for(const a of m(t))B(a);t.setAttribute("novalidate","");const n=t.querySelector(o.formMessageSelector||M);n&&(l(n),g(n),t.setAttribute("afova-form-message-container-id",n.id),n.classList.add("afova-form-message-container"))}}function A(e){e.preventDefault(),v(e.target,e),e.target.checkValidity()?(o.onValid&&o.onValid(e),o.onSubmit&&o.onSubmit(e)):o.onInvalid&&o.onInvalid(e)}function D(e){C(e.target),o.onReset&&o.onReset(e)}function $(){const e=document.querySelectorAll(o.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",A),t.removeEventListener("reset",D);for(const n of m(t))F(n)}}function B(e){l(e),f(e),e.classList.add("afova-control"),o.validateOnChange&&e.addEventListener("change",T)}function T(e){L(e.target,!0)}function F(e){e.classList.remove("afova-control"),e.removeEventListener("change",T)}function f(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(l(t),t.classList.add("afova-context"),t.tagName=="LABEL"&&!t.htmlFor&&(t.htmlFor=e.id)),t}function w(e){const t=e.closest(".afova-group");return t&&l(t),t}let o=Object.assign({},me,s);return R(),{clear:()=>$(),isValid:e=>S(e),isInvalid:e=>!S(e),validate:e=>U(e)}}export{ge as afova};
//# sourceMappingURL=afova.min.js.map
