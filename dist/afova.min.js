"use strict";const z="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let P=(s=21)=>{let i="",c=crypto.getRandomValues(new Uint8Array(s));for(;s--;)i+=z[c[s]&63];return i};const W={message:"The input cannot be processed"},H={message:"The value does not match the required pattern of {{constraint}}",constraint:"pattern"},Z={message:"The value is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},j={message:"The value is too small. It must be at least {{constraint}}.",constraint:"min"},X={message:"The value is not in within the correct step interval of {{constraint}}",constraint:"step"},_={message:"The value is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},G={message:"The value is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},J={message:"The value {{input}} must be of type {{constraint}}",constraint:"type",email:"The value {{input}} is not a valid email address. Please provide an email address.",url:"The value {{inptu}} is not a valid URL. Please provide a URL in the format http://url.com.",tel:"The value {{input}} is not a valid phone number. Please provide a phone number."},K={message:"Please provide a value",constraint:"required"},Q={badInput:W,patternMismatch:H,rangeOverflow:Z,rangeUnderflow:j,stepMismatch:X,tooLong:_,tooShort:G,typeMismatch:J,valueMissing:K},Y={message:"Die Eingabe kann nicht verarbeitet werden"},ee={message:"Der Eingabewert entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},te={message:"Der Eingabewert ist zu gro\xDF. Der Wert darf nicht gr\xF6\xDFer sein als {{constraint}}.",constraint:"max"},ne={message:"Der Eingabewert ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},ae={message:"Der Eingabewert ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},oe={message:"Der Eingabewert ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},re={message:"Der Eingabewert ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},se={message:"Der Eingabewert {{input}} muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert {{input}} ist keine E-Mail Adresse. Bitte geben Sie eine E-Mail Adresse ein.",tel:"Der Eingabewert {{input}} ist keine Telefonnummer. Bitte geben Sie eine Telefonnummer ein.",url:"Der Eingabewert {{input}} ist kein URL. Bitte geben Sie eine URL im Format http://url.com ein."},ie={message:"Bitte machen Sie eine Eingabe",constraint:"required"},ce={badInput:Y,patternMismatch:ee,rangeOverflow:te,rangeUnderflow:ne,stepMismatch:ae,tooLong:oe,tooShort:re,typeMismatch:se,valueMissing:ie},le=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],S="form",M=".afova-form-message-container",ue={selector:S,formMessageSelector:M,validateOnChange:!1,focusOnFirstError:!0},g={en:Q,de:ce},me=["submit","reset","button","fieldset"];function fe(){let s=navigator.language,i=g[s];if(i)return console.log(`afova is using locale=[${s}]`),i;const c=s.indexOf("-");return c&&(s=s.substring(0,c),s&&(i=g[s])),i?(console.log(`afova is using language=[${s}]`),i):(console.log("afova is using language=[en]"),g.en)}function de(s){let i=fe();function c(e){e.id||(e.id=`afova-${P()}`)}function v(e){const t=w(e)||e;return document.querySelector(`#${t.id}-afova-message-container`)}function d(e){p(e)?e.style.display="none":e.style.display=""}function h(e){const t=e.closest("form");if(t){const n=t.getAttribute("afova-form-message-container-id");if(n)return document.querySelector(`#${n}`)}return null}function p(e){return e.children.length==0}function I(e){var t;let n=v(e);if(!n){const a=w(e)||e;n=document.createElement("ul"),(t=a.parentNode)==null||t.insertBefore(n,a),n.id=`${a.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)}return n}function x(e,t){if(e!="customError"){let n=i[e];if(n){let a=n.constraint,o=t.dataset[a||e]||i[e][t.type]||n.message;const r=t.getAttribute(a||"");if(r){let V=new RegExp("{{\\s*constraint\\s*}}","ig");o=o.replace(V,r)}let l=new RegExp("{{\\s*input\\s*}}","ig");return o=o.replace(l,t.value),o}}return t.validationMessage}function q(e){var t,n;const a=f(e);if(a){let o=a.querySelector(".afova-label");if(!o&&a.tagName!="LABEL"&&(o=a.querySelector("label")),o||(o=a),o){let r="";for(const l of o.childNodes)l.nodeType==Node.TEXT_NODE&&(r&&(t=l.textContent)!=null&&t.trim()&&(r+=" "),(n=l.textContent)!=null&&n.trim()&&(r+=l.textContent.trim()));return r}}return""}function b(e,t){const n=h(e);if(n){let a;n.tagName=="UL"||n.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.setAttribute("afova-message-for",e.id),a.classList.add("afova-collected-message");const o=q(e);if(o){const l=document.createElement("DIV");l.innerText=o,l.classList.add("afova-message-label"),a.appendChild(l)}const r=document.createElement("DIV");r.innerText=t,r.classList.add("afova-message"),a.appendChild(r),n.appendChild(a),d(n)}}function O(e){const t=I(e),n=e.validity;let a;t.tagName=="UL"||t.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.classList.add("afova-message"),a.setAttribute("afova-message-for",e.id),t.appendChild(a);for(const o of le)if(n[o]){let r=x(o,e);r&&(a.innerHTML=r,b(e,r));break}a.innerHTML||(a.innerHTML=e.dataset.errorInvalid||i.badInput.message,b(e,e.dataset.errorInvalid||i.badInput.message))}function E(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=document.querySelectorAll(`[afova-message-for="${e.id}"]`);for(const r of t)r.remove();const n=v(e);n&&p(n)&&n.remove();let a=f(e);a&&document.querySelectorAll(`#${a.id} [aria-invalid].afova-control`).length==0&&a.classList.remove("afova-active");const o=h(e);o&&d(o)}function N(e,t){const n=f(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),O(e),t&&e.focus()}function L(e,t){return E(e),e.validity.valid||N(e,t),e.validity.valid}function m(e){const t=[];for(const n of e.elements)me.includes(n.type)||t.push(n);return t}function y(e,t){let n;for(const a of m(e)){const o=L(a);!n&&!o&&(n=a)}n&&(t?.preventDefault(),u.focusOnFirstError&&n.focus())}function U(e){for(let t of m(e))E(t)}function k(){const e=document.querySelectorAll(u.selector||S);for(const t of e){c(t),t.addEventListener("submit",A),t.addEventListener("reset",D);for(const a of m(t))B(a);t.setAttribute("novalidate","");const n=t.querySelector(u.formMessageSelector||M);n&&(c(n),d(n),t.setAttribute("afova-form-message-container-id",n.id),n.classList.add("afova-form-message-container"))}}function A(e){e.preventDefault(),y(e.target,e)}function D(e){U(e.target)}function C(){const e=document.querySelectorAll(u.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",A),t.removeEventListener("reset",D);for(const n of m(t))R(n)}}function B(e){c(e),f(e),e.classList.add("afova-control"),u.validateOnChange&&e.addEventListener("change",T)}function T(e){L(e.target,!0)}function R(e){e.classList.remove("afova-control"),e.removeEventListener("change",T)}function f(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(c(t),t.classList.add("afova-context"),t.tagName=="LABEL"&&!t.htmlFor&&(t.htmlFor=e.id)),t}function w(e){const t=e.closest(".afova-group");return t&&c(t),t}function $(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)y(t)}function F(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)if(!t.checkValidity())return!0;return!1}let u=Object.assign({},ue,s);return k(),{clear:()=>C(),validate:()=>$(),isInvalid:()=>F()}}export{de as afova};
//# sourceMappingURL=afova.min.js.map
