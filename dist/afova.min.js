"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],t={selector:"form",validateOnChange:!1,focusOnFirstError:!0},n={en:{badInput:{message:"The input cannot be processed"},patternMismatch:{message:"The value does not match the required pattern of {{constraint}}",constraint:"pattern"},rangeOverflow:{message:"The value is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},rangeUnderflow:{message:"The value is too small. It must be at least {{constraint}}.",constraint:"min"},stepMismatch:{message:"The value is not in within the correct step interval of {{constraint}}",constraint:"step"},tooLong:{message:"The value is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},tooShort:{message:"The value is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},typeMismatch:{message:"The value must be of type {{constraint}}",constraint:"type",email:"The value must be an email address",url:"The value must be a URL in the format http://url.com",tel:"The value must be a phone number"},valueMissing:{message:"Please provide a value",constraint:"required"}},de:{badInput:{message:"Die Eingabe kann nicht verarbeitet werden"},patternMismatch:{message:"Der Eingabewert entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},rangeOverflow:{message:"Der Eingabewert ist zu groß. Der Wert darf nicht größer sein als {{constraint}}.",constraint:"max"},rangeUnderflow:{message:"Der Eingabewert ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},stepMismatch:{message:"Der Eingabewert ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},tooLong:{message:"Der Eingabewert ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},tooShort:{message:"Der Eingabewert ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},typeMismatch:{message:"Der Eingabewert muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert muss eine E-Mail Adresse sein",tel:"Der Eingabewert muss eine Telefonnummer sein",url:"Der Eingabewert muss eine URL im Format http://url.com sein"},valueMissing:{message:"Bitte machen Sie eine Eingabe",constraint:"required"}}},a=["submit","reset","button"];exports.afova=function(r){let s=function(){let e=navigator.language,t=n[e];if(t)return console.log(`afova is using locale=[${e}]`),t;const a=e.indexOf("-");return a&&(e=e.substring(0,a),e&&(t=n[e])),t?(console.log(`afova is using language=[${e}]`),t):(console.log("afova is using language=[en]"),n.en)}();function o(e){e.id||(e.id=`afova-${((e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t})()}`)}function i(e){return document.querySelector(`#${e.id}-afova-message-container`)}function c(e,t){if("customError"!=e){let n=s[e];if(n){let a=n.constraint,r=t.dataset[a||e]||s[e][t.type]||n.message;const o=t.getAttribute(a||"");if(o){const e=new RegExp("{{\\s*constraint\\s*}}","ig");r=r.replace(e,o)}return r}}return t.validationMessage}function l(t){const n=function(e){var t;let n=i(e);return n||(n=document.createElement("ul"),null==(t=e.parentNode)||t.insertBefore(n,e),n.id=`${e.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)),n}(t),a=t.validity,r=document.createElement("li");r.classList.add("afova-message"),n.appendChild(r);for(const s of e)if(a[s]){let e=c(s,t);e&&(r.innerHTML=e);break}r.innerHTML||(r.innerHTML=t.dataset.errorInvalid||s.badInput.message)}function u(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=i(e);t&&t.remove();let n=E(e);n&&n.classList.remove("afova-active")}function m(e,t){return u(e),e.validity.valid||function(e,t){const n=E(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),l(e),t&&e.focus()}(e,t),e.validity.valid}function g(e){const t=[];for(const n of e.elements)a.includes(n.type)||t.push(n);return t}function f(e,t){let n;for(const a of g(e)){const e=m(a);n||e||(n=a)}n&&(null==t||t.preventDefault(),L.focusOnFirstError&&n.focus())}function d(e){f(e.target,e)}function v(e){!function(e){for(let t of g(e))u(t)}(e.target)}function h(e){o(e),E(e),e.classList.add("afova-control"),L.validateOnChange&&e.addEventListener("change",b)}function b(e){m(e.target,!0)}function p(e){e.classList.remove("afova-control"),e.removeEventListener("change",b)}function E(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(t.classList.add("afova-context"),"LABEL"!=t.tagName||t.htmlFor||(t.htmlFor=e.id)),t}let L=Object.assign({},t,r);return function(){const e=document.querySelectorAll(L.selector||"form");for(const t of e){t.setAttribute("novalidate",""),o(t),t.addEventListener("submit",d),t.addEventListener("reset",v);for(const e of g(t))h(e)}}(),{clear:()=>function(){const e=document.querySelectorAll(L.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",d),t.removeEventListener("reset",v);for(const e of g(t))p(e)}}(),validate:()=>function(){const e=document.querySelectorAll(L.selector||"form");for(const t of e)f(t)}(),isInvalid:()=>function(){const e=document.querySelectorAll(L.selector||"form");for(const t of e)if(!t.checkValidity())return!0;return!1}()}};
//# sourceMappingURL=afova.min.js.map
