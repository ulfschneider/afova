"use strict";const k="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let F=(a=21)=>{let r="",i=crypto.getRandomValues(new Uint8Array(a));for(;a--;)r+=k[i[a]&63];return r};const U={message:"The input cannot be processed"},z={message:"The value does not match the required pattern of {{constraint}}",constraint:"pattern"},R={message:"The value is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},W={message:"The value is too small. It must be at least {{constraint}}.",constraint:"min"},$={message:"The value is not in within the correct step interval of {{constraint}}",constraint:"step"},B={message:"The value is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},C={message:"The value is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},H={message:"The value must be of type {{constraint}}",constraint:"type",email:"The value must be an email address",url:"The value must be a URL in the format http://url.com",tel:"The value must be a phone number"},N={message:"Please provide a value",constraint:"required"},V={badInput:U,patternMismatch:z,rangeOverflow:R,rangeUnderflow:W,stepMismatch:$,tooLong:B,tooShort:C,typeMismatch:H,valueMissing:N},Z={message:"Die Eingabe kann nicht verarbeitet werden"},j={message:"Der Eingabewert entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},P={message:"Der Eingabewert ist zu gro\xDF. Der Wert darf nicht gr\xF6\xDFer sein als {{constraint}}.",constraint:"max"},G={message:"Der Eingabewert ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},J={message:"Der Eingabewert ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},K={message:"Der Eingabewert ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},Q={message:"Der Eingabewert ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},X={message:"Der Eingabewert muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert muss eine E-Mail Adresse sein",tel:"Der Eingabewert muss eine Telefonnummer sein",url:"Der Eingabewert muss eine URL im Format http://url.com sein"},Y={message:"Bitte machen Sie eine Eingabe",constraint:"required"},_={badInput:Z,patternMismatch:j,rangeOverflow:P,rangeUnderflow:G,stepMismatch:J,tooLong:K,tooShort:Q,typeMismatch:X,valueMissing:Y},ee=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],te={selector:"form",validateOnChange:!1,focusOnFirstError:!0},g={en:V,de:_},ne=["submit","reset","button"];function ae(){let a=navigator.language,r=g[a];if(r)return console.log(`afova is using locale=[${a}]`),r;const i=a.indexOf("-");return i&&(a=a.substring(0,i),a&&(r=g[a])),r?(console.log(`afova is using language=[${a}]`),r):(console.log("afova is using language=[en]"),g.en)}function re(a){let r=ae();function i(e){e.id||(e.id=`afova-${F()}`)}function f(e){return document.querySelector(`#${e.id}-afova-message-container`)}function L(e){var t;let n=f(e);return n||(n=document.createElement("ul"),(t=e.parentNode)==null||t.insertBefore(n,e),n.id=`${e.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)),n}function w(e,t){if(e!="customError"){let n=r[e];if(n){let s=n.constraint,o=t.dataset[s||e]||r[e][t.type]||n.message;const l=t.getAttribute(s||"");if(l){const q=new RegExp("{{\\s*constraint\\s*}}","ig");o=o.replace(q,l)}return o}}return t.validationMessage}function y(e){const t=L(e),n=e.validity,s=document.createElement("li");s.classList.add("afova-message"),t.appendChild(s);for(const o of ee)if(n[o]){let l=w(o,e);l&&(s.innerHTML=l);break}s.innerHTML||(s.innerHTML=e.dataset.errorInvalid||r.badInput.message)}function d(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=f(e);t&&t.remove();let n=m(e);n&&n.classList.remove("afova-active")}function M(e,t){const n=m(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),y(e),t&&e.focus()}function v(e,t){return d(e),e.validity.valid||M(e,t),e.validity.valid}function u(e){const t=[];for(const n of e.elements)ne.includes(n.type)||t.push(n);return t}function h(e,t){let n;for(const s of u(e)){const o=v(s);!n&&!o&&(n=s)}n&&(t?.preventDefault(),c.focusOnFirstError&&n.focus())}function D(e){for(let t of u(e))d(t)}function T(){const e=document.querySelectorAll(c.selector||"form");for(const t of e){t.setAttribute("novalidate",""),i(t),t.addEventListener("submit",b),t.addEventListener("reset",p);for(const n of u(t))I(n)}}function b(e){h(e.target,e)}function p(e){D(e.target)}function A(){const e=document.querySelectorAll(c.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",b),t.removeEventListener("reset",p);for(const n of u(t))S(n)}}function I(e){i(e),m(e),e.classList.add("afova-control"),c.validateOnChange&&e.addEventListener("change",E)}function E(e){v(e.target,!0)}function S(e){e.classList.remove("afova-control"),e.removeEventListener("change",E)}function m(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(t.classList.add("afova-context"),t.tagName=="LABEL"&&!t.htmlFor&&(t.htmlFor=e.id)),t}function x(){const e=document.querySelectorAll(c.selector||"form");for(const t of e)h(t)}function O(){const e=document.querySelectorAll(c.selector||"form");for(const t of e)if(!t.checkValidity())return!0;return!1}let c=Object.assign({},te,a);return T(),{clear:()=>A(),validate:()=>x(),isInvalid:()=>O()}}export{re as afova};
//# sourceMappingURL=afova.min.js.map
