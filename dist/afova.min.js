"use strict";const B="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let R=(r=21)=>{let i="",c=crypto.getRandomValues(new Uint8Array(r));for(;r--;)i+=B[c[r]&63];return i};const W={message:"The input cannot be processed"},H={message:"The value does not match the required pattern of {{constraint}}",constraint:"pattern"},Z={message:"The value is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},j={message:"The value is too small. It must be at least {{constraint}}.",constraint:"min"},P={message:"The value is not in within the correct step interval of {{constraint}}",constraint:"step"},X={message:"The value is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},_={message:"The value is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},G={message:"The value must be of type {{constraint}}",constraint:"type",email:"The value must be an email address",url:"The value must be a URL in the format http://url.com",tel:"The value must be a phone number"},J={message:"Please provide a value",constraint:"required"},K={badInput:W,patternMismatch:H,rangeOverflow:Z,rangeUnderflow:j,stepMismatch:P,tooLong:X,tooShort:_,typeMismatch:G,valueMissing:J},Q={message:"Die Eingabe kann nicht verarbeitet werden"},Y={message:"Der Eingabewert entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},ee={message:"Der Eingabewert ist zu gro\xDF. Der Wert darf nicht gr\xF6\xDFer sein als {{constraint}}.",constraint:"max"},te={message:"Der Eingabewert ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},ne={message:"Der Eingabewert ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},ae={message:"Der Eingabewert ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},oe={message:"Der Eingabewert ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},se={message:"Der Eingabewert muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert muss eine E-Mail Adresse sein",tel:"Der Eingabewert muss eine Telefonnummer sein",url:"Der Eingabewert muss eine URL im Format http://url.com sein"},re={message:"Bitte machen Sie eine Eingabe",constraint:"required"},ie={badInput:Q,patternMismatch:Y,rangeOverflow:ee,rangeUnderflow:te,stepMismatch:ne,tooLong:ae,tooShort:oe,typeMismatch:se,valueMissing:re},ce=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],M="form",I=".afova-form-message-container",le={selector:M,formMessageSelector:I,validateOnChange:!1,focusOnFirstError:!0},g={en:K,de:ie},ue=["submit","reset","button","fieldset"];function me(){let r=navigator.language,i=g[r];if(i)return console.log(`afova is using locale=[${r}]`),i;const c=r.indexOf("-");return c&&(r=r.substring(0,c),r&&(i=g[r])),i?(console.log(`afova is using language=[${r}]`),i):(console.log("afova is using language=[en]"),g.en)}function fe(r){let i=me();function c(e){e.id||(e.id=`afova-${R()}`)}function v(e){const t=w(e)||e;return document.querySelector(`#${t.id}-afova-message-container`)}function d(e){b(e)?e.style.display="none":e.style.display=""}function h(e){const t=e.closest("form");if(t){const n=t.getAttribute("afova-form-message-container-id");if(n)return document.querySelector(`#${n}`)}return null}function b(e){return e.children.length==0}function S(e){var t;let n=v(e);if(!n){const a=w(e)||e;n=document.createElement("ul"),(t=a.parentNode)==null||t.insertBefore(n,a),n.id=`${a.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)}return n}function q(e,t){if(e!="customError"){let n=i[e];if(n){let a=n.constraint,o=t.dataset[a||e]||i[e][t.type]||n.message;const s=t.getAttribute(a||"");if(s){const l=new RegExp("{{\\s*constraint\\s*}}","ig");o=o.replace(l,s)}return o}}return t.validationMessage}function x(e){var t,n;const a=f(e);if(a){let o=a.querySelector(".afova-label");if(!o&&a.tagName!="LABEL"&&(o=a.querySelector("label")),o||(o=a),o){let s="";for(const l of o.childNodes)l.nodeType==Node.TEXT_NODE&&(s&&(t=l.textContent)!=null&&t.trim()&&(s+=" "),(n=l.textContent)!=null&&n.trim()&&(s+=l.textContent.trim()));return s}}return""}function p(e,t){const n=h(e);if(n){let a;n.tagName=="UL"||n.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.setAttribute("afova-message-for",e.id),a.classList.add("afova-collected-message");const o=x(e);if(o){const l=document.createElement("DIV");l.innerText=o,l.classList.add("afova-message-label"),a.appendChild(l)}const s=document.createElement("DIV");s.innerText=t,s.classList.add("afova-message"),a.appendChild(s),n.appendChild(a),d(n)}}function O(e){const t=S(e),n=e.validity;let a;t.tagName=="UL"||t.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.classList.add("afova-message"),a.setAttribute("afova-message-for",e.id),t.appendChild(a);for(const o of ce)if(n[o]){let s=q(o,e);s&&(a.innerHTML=s,p(e,s));break}a.innerHTML||(a.innerHTML=e.dataset.errorInvalid||i.badInput.message,p(e,e.dataset.errorInvalid||i.badInput.message))}function E(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=document.querySelectorAll(`[afova-message-for="${e.id}"]`);for(const s of t)s.remove();const n=v(e);n&&b(n)&&n.remove();let a=f(e);a&&document.querySelectorAll(`#${a.id} [aria-invalid].afova-control`).length==0&&a.classList.remove("afova-active");const o=h(e);o&&d(o)}function N(e,t){const n=f(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),O(e),t&&e.focus()}function L(e,t){return E(e),e.validity.valid||N(e,t),e.validity.valid}function m(e){const t=[];for(const n of e.elements)ue.includes(n.type)||t.push(n);return t}function y(e,t){let n;for(const a of m(e)){const o=L(a);!n&&!o&&(n=a)}n&&(t?.preventDefault(),u.focusOnFirstError&&n.focus())}function C(e){for(let t of m(e))E(t)}function U(){const e=document.querySelectorAll(u.selector||M);for(const t of e){c(t),t.addEventListener("submit",D),t.addEventListener("reset",A);for(const a of m(t))k(a);t.setAttribute("novalidate",""),console.log(u);const n=t.querySelector(u.formMessageSelector||I);console.log(n),n&&(c(n),d(n),t.setAttribute("afova-form-message-container-id",n.id),n.classList.add("afova-form-message-container"))}}function D(e){e.preventDefault(),y(e.target,e)}function A(e){C(e.target)}function $(){const e=document.querySelectorAll(u.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",D),t.removeEventListener("reset",A);for(const n of m(t))F(n)}}function k(e){c(e),f(e),e.classList.add("afova-control"),u.validateOnChange&&e.addEventListener("change",T)}function T(e){L(e.target,!0)}function F(e){e.classList.remove("afova-control"),e.removeEventListener("change",T)}function f(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(c(t),t.classList.add("afova-context"),t.tagName=="LABEL"&&!t.htmlFor&&(t.htmlFor=e.id)),t}function w(e){const t=e.closest(".afova-group");return t&&c(t),t}function V(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)y(t)}function z(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)if(!t.checkValidity())return!0;return!1}let u=Object.assign({},le,r);return U(),{clear:()=>$(),validate:()=>V(),isInvalid:()=>z()}}export{fe as afova};
//# sourceMappingURL=afova.min.js.map
