"use strict";const P="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let W=(i=21)=>{let s="",c=crypto.getRandomValues(new Uint8Array(i));for(;i--;)s+=P[c[i]&63];return s};const H={message:"The input {{input}} cannot be processed"},Z={message:"The value {{input}} does not match the required pattern of {{constraint}}",constraint:"pattern"},j={message:"The value {{input}} is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},X={message:"The value {{input}} is too small. It must be at least {{constraint}}.",constraint:"min"},_={message:"The value {{input}} is not in within the correct step interval of {{constraint}}",constraint:"step"},G={message:"The value {{input}} is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},J={message:"The value {{input}} is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},K={message:"The value {{input}} must be of type {{constraint}}",constraint:"type",email:"The value {{input}} is not a valid email address. Please provide an email address.",url:"The value {{inptu}} is not a valid URL. Please provide a URL in the format http://url.com.",tel:"The value {{input}} is not a valid phone number. Please provide a phone number."},Q={message:"Please provide a value",constraint:"required"},Y={badInput:H,patternMismatch:Z,rangeOverflow:j,rangeUnderflow:X,stepMismatch:_,tooLong:G,tooShort:J,typeMismatch:K,valueMissing:Q},ee={message:"Die Eingabe {{input}} kann nicht verarbeitet werden"},te={message:"Der Eingabewert {{input}} entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},ne={message:"Der Eingabewert {{input}} ist zu gro\xDF. Der Wert darf nicht gr\xF6\xDFer sein als {{constraint}}.",constraint:"max"},ae={message:"Der Eingabewert {{input}} ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},oe={message:"Der Eingabewert {{input}} ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},re={message:"Der Eingabewert {{input}} ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},ie={message:"Der Eingabewert {{input}} ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},se={message:"Der Eingabewert {{input}} muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert {{input}} ist keine E-Mail Adresse. Bitte geben Sie eine E-Mail Adresse ein.",tel:"Der Eingabewert {{input}} ist keine Telefonnummer. Bitte geben Sie eine Telefonnummer ein.",url:"Der Eingabewert {{input}} ist kein URL. Bitte geben Sie eine URL im Format http://url.com ein."},ce={message:"Bitte machen Sie eine Eingabe",constraint:"required"},le={badInput:ee,patternMismatch:te,rangeOverflow:ne,rangeUnderflow:ae,stepMismatch:oe,tooLong:re,tooShort:ie,typeMismatch:se,valueMissing:ce},ue=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],w="form",M=".afova-form-message-container",me={selector:w,formMessageSelector:M,validateOnChange:!1,focusOnFirstError:!0},v={en:Y,de:le},fe=["submit","reset","button","fieldset"];function de(){let i=navigator.language,s=v[i];if(s)return console.log(`afova is using locale=[${i}]`),s;const c=i.indexOf("-");return c&&(i=i.substring(0,c),i&&(s=v[i])),s?(console.log(`afova is using language=[${i}]`),s):(console.log("afova is using language=[en]"),v.en)}function ge(i){let s=de();function c(e){e.id||(e.id=`afova-${W()}`)}function d(e){const t=T(e)||e;return document.querySelector(`#${t.id}-afova-message-container`)}function g(e){h(e)?e.style.display="none":e.style.display=""}function p(e){const t=e.closest("form");if(t){const n=t.getAttribute("afova-form-message-container-id");if(n)return document.querySelector(`#${n}`)}return null}function h(e){return e.children.length==0}function I(e){var t;let n=d(e);if(!n){const a=T(e)||e;n=document.createElement("ul"),(t=a.parentNode)==null||t.insertBefore(n,a),n.id=`${a.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)}return n}function q(e){if(e.type=="radio"&&e.name){const t=document.querySelectorAll(`input[name="${e.name}"][type="radio"]`),n=d(e);if(n){for(let a of t)if(n.querySelector(`[afova-message-for="${a.id}"]`))return!0}}return!1}function x(e,t){if(e!="customError"){let n=s[e];if(n){let a=n.constraint,o=t.dataset[a||e]||s[e][t.type]||n.message;const r=t.getAttribute(a||"");if(r){let z=new RegExp("{{\\s*constraint\\s*}}","ig");o=o.replace(z,r)}let l=new RegExp("{{\\s*input\\s*}}","ig");return o=o.replace(l,t.value),o}}return t.validationMessage}function O(e){var t,n;const a=f(e);if(a){let o=a.querySelector(".afova-label");if(!o&&a.tagName!="LABEL"&&(o=a.querySelector("label")),o||(o=a),o){let r="";for(const l of o.childNodes)l.nodeType==Node.TEXT_NODE&&(r&&(t=l.textContent)!=null&&t.trim()&&(r+=" "),(n=l.textContent)!=null&&n.trim()&&(r+=l.textContent.trim()));return r}}return""}function b(e,t){const n=p(e);if(n){let a;n.tagName=="UL"||n.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.setAttribute("afova-message-for",e.id),a.classList.add("afova-collected-message");const o=O(e);if(o){const l=document.createElement("DIV");l.innerText=o,l.classList.add("afova-message-label"),a.appendChild(l)}const r=document.createElement("DIV");r.innerText=t,r.classList.add("afova-message"),a.appendChild(r),n.appendChild(a),g(n)}}function N(e){const t=I(e),n=e.validity;let a;t.tagName=="UL"||t.tagName=="OL"?a=document.createElement("LI"):a=document.createElement("DIV"),a.classList.add("afova-message"),a.setAttribute("afova-message-for",e.id),t.appendChild(a);for(const o of ue)if(n[o]){let r=x(o,e);r&&(a.innerHTML=r,b(e,r));break}a.innerHTML||(a.innerHTML=e.dataset.errorInvalid||s.badInput.message,b(e,e.dataset.errorInvalid||s.badInput.message))}function E(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=document.querySelectorAll(`[afova-message-for="${e.id}"]`);for(const r of t)r.remove();const n=d(e);n&&h(n)&&n.remove();let a=f(e);a&&document.querySelectorAll(`#${a.id} [aria-invalid].afova-control`).length==0&&a.classList.remove("afova-active");const o=p(e);o&&g(o)}function U(e,t){const n=f(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),q(e)||(N(e),t&&e.focus())}function L(e,t){return E(e),e.validity.valid||U(e,t),e.validity.valid}function m(e){const t=[];for(const n of e.elements)fe.includes(n.type)||t.push(n);return t}function y(e,t){let n;for(const a of m(e)){const o=L(a);!n&&!o&&(n=a)}n&&(t?.preventDefault(),u.focusOnFirstError&&n.focus())}function k(e){for(let t of m(e))E(t)}function C(){const e=document.querySelectorAll(u.selector||w);for(const t of e){c(t),t.addEventListener("submit",A),t.addEventListener("reset",S);for(const a of m(t))B(a);t.setAttribute("novalidate","");const n=t.querySelector(u.formMessageSelector||M);n&&(c(n),g(n),t.setAttribute("afova-form-message-container-id",n.id),n.classList.add("afova-form-message-container"))}}function A(e){e.preventDefault(),y(e.target,e)}function S(e){k(e.target)}function $(){const e=document.querySelectorAll(u.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",A),t.removeEventListener("reset",S);for(const n of m(t))R(n)}}function B(e){c(e),f(e),e.classList.add("afova-control"),u.validateOnChange&&e.addEventListener("change",D)}function D(e){L(e.target,!0)}function R(e){e.classList.remove("afova-control"),e.removeEventListener("change",D)}function f(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(c(t),t.classList.add("afova-context"),t.tagName=="LABEL"&&!t.htmlFor&&(t.htmlFor=e.id)),t}function T(e){const t=e.closest(".afova-group");return t&&c(t),t}function F(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)y(t)}function V(){const e=document.querySelectorAll(u.selector||"form");for(const t of e)if(!t.checkValidity())return!0;return!1}let u=Object.assign({},me,i);return C(),{clear:()=>$(),validate:()=>F(),isInvalid:()=>V()}}export{ge as afova};
//# sourceMappingURL=afova.min.js.map
