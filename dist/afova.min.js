"use strict";const U="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let $=(a=21)=>{let o="",i=crypto.getRandomValues(new Uint8Array(a));for(;a--;)o+=U[i[a]&63];return o};const z={message:"The input cannot be processed"},R={message:"The value does not match the required pattern of {{constraint}}",constraint:"pattern"},W={message:"The value is too big. It cannot be bigger than {{constraint}}.",constraint:"max"},B={message:"The value is too small. It must be at least {{constraint}}.",constraint:"min"},C={message:"The value is not in within the correct step interval of {{constraint}}",constraint:"step"},H={message:"The value is too long. It cannot be longer than {{constraint}} characters.",constraint:"maxlength"},N={message:"The value is too short. It must be at least {{constraint}} characters long.",constraint:"minlength"},V={message:"The value must be of type {{constraint}}",constraint:"type",email:"The value must be an email address",url:"The value must be a URL in the format http://url.com",tel:"The value must be a phone number"},Z={message:"Please provide a value",constraint:"required"},j={badInput:z,patternMismatch:R,rangeOverflow:W,rangeUnderflow:B,stepMismatch:C,tooLong:H,tooShort:N,typeMismatch:V,valueMissing:Z},P={message:"Die Eingabe kann nicht verarbeitet werden"},G={message:"Der Eingabewert entspricht nicht dem erforderlichen Format {{constraint}}",constraint:"pattern"},J={message:"Der Eingabewert ist zu gro\xDF. Der Wert darf nicht gr\xF6\xDFer sein als {{constraint}}.",constraint:"max"},K={message:"Der Eingabewert ist zu klein. Der Wert darf nicht kleiner sein als {{constraint}}.",constraint:"min"},Q={message:"Der Eingabewert ist nicht in der richtigen Schrittfolge von {{constraint}}",constraint:"step"},X={message:"Der Eingabewert ist zu lang. Der Wert darf nicht mehr als {{constraint}} Zeichen haben.",constraint:"maxlength"},Y={message:"Der Eingabewert ist zu kurz. Der Wert muss mindestens {{constraint}} Zeichen lang sein.",constraint:"minlength"},_={message:"Der Eingabewert muss vom Typ {{constraint}} sein",constraint:"type",email:"Der Eingabewert muss eine E-Mail Adresse sein",tel:"Der Eingabewert muss eine Telefonnummer sein",url:"Der Eingabewert muss eine URL im Format http://url.com sein"},ee={message:"Bitte machen Sie eine Eingabe",constraint:"required"},te={badInput:P,patternMismatch:G,rangeOverflow:J,rangeUnderflow:K,stepMismatch:Q,tooLong:X,tooShort:Y,typeMismatch:_,valueMissing:ee},ne=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],re={selector:"form",validateOnChange:!1,focusOnFirstError:!0},f={en:j,de:te},ae=["submit","reset","button","fieldset"];function oe(){let a=navigator.language,o=f[a];if(o)return console.log(`afova is using locale=[${a}]`),o;const i=a.indexOf("-");return i&&(a=a.substring(0,i),a&&(o=f[a])),o?(console.log(`afova is using language=[${a}]`),o):(console.log("afova is using language=[en]"),f.en)}function se(a){let o=oe();function i(e){e.id||(e.id=`afova-${$()}`)}function g(e){const t=L(e)||e;return document.querySelector(`#${t.id}-afova-message-container`)}function y(e){return e.children.length>0}function w(e){var t;let n=g(e);if(!n){const r=L(e)||e;n=document.createElement("ul"),(t=r.parentNode)==null||t.insertBefore(n,r),n.id=`${r.id}-afova-message-container`,n.classList.add("afova-message-container"),e.setAttribute("aria-errormessage",n.id)}return n}function A(e,t){if(e!="customError"){let n=o[e];if(n){let r=n.constraint,s=t.dataset[r||e]||o[e][t.type]||n.message;const l=t.getAttribute(r||"");if(l){const F=new RegExp("{{\\s*constraint\\s*}}","ig");s=s.replace(F,l)}return s}}return t.validationMessage}function D(e){const t=w(e),n=e.validity,r=document.createElement("li");r.classList.add("afova-message"),r.setAttribute("afova-message-for",e.id),t.appendChild(r);for(const s of ne)if(n[s]){let l=A(s,e);l&&(r.innerHTML=l);break}r.innerHTML||(r.innerHTML=e.dataset.errorInvalid||o.badInput.message)}function d(e){e.removeAttribute("aria-invalid"),e.removeAttribute("aria-errormessage");const t=document.querySelectorAll(`[afova-message-for="${e.id}"]`);for(const s of t)s.remove();const n=g(e);n&&y(n)&&n.remove();let r=m(e);r&&document.querySelectorAll(`#${r.id} [aria-invalid].afova-control`).length==0&&r.classList.remove("afova-active")}function M(e,t){const n=m(e);n&&n.classList.add("afova-active"),e.setAttribute("aria-invalid","true"),D(e),t&&e.focus()}function v(e,t){return d(e),e.validity.valid||M(e,t),e.validity.valid}function u(e){const t=[];for(const n of e.elements)ae.includes(n.type)||t.push(n);return t}function h(e,t){let n;for(const r of u(e)){const s=v(r);!n&&!s&&(n=r)}n&&(t?.preventDefault(),c.focusOnFirstError&&n.focus())}function T(e){for(let t of u(e))d(t)}function S(){const e=document.querySelectorAll(c.selector||"form");for(const t of e){t.setAttribute("novalidate",""),i(t),t.addEventListener("submit",b),t.addEventListener("reset",p);for(const n of u(t))I(n)}}function b(e){e.preventDefault(),h(e.target,e)}function p(e){T(e.target)}function q(){const e=document.querySelectorAll(c.selector||"form");for(const t of e){t.removeAttribute("novalidate"),t.removeEventListener("submit",b),t.removeEventListener("reset",p);for(const n of u(t))x(n)}}function I(e){i(e),m(e),e.classList.add("afova-control"),c.validateOnChange&&e.addEventListener("change",E)}function E(e){v(e.target,!0)}function x(e){e.classList.remove("afova-control"),e.removeEventListener("change",E)}function m(e){let t=e.closest(".afova-context");return t||(t=e.closest("label")),t&&(i(t),t.classList.add("afova-context"),t.tagName=="LABEL"&&!t.htmlFor&&(t.htmlFor=e.id)),t}function L(e){const t=e.closest(".afova-group");return t&&i(t),t}function O(){const e=document.querySelectorAll(c.selector||"form");for(const t of e)h(t)}function k(){const e=document.querySelectorAll(c.selector||"form");for(const t of e)if(!t.checkValidity())return!0;return!1}let c=Object.assign({},re,a);return S(),{clear:()=>q(),validate:()=>O(),isInvalid:()=>k()}}export{se as afova};
//# sourceMappingURL=afova.min.js.map
